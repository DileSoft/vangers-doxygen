<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Vangers: src/units/effect.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Vangers
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('effect_8cpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">effect.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="">../global.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">../3d/3d_math.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">../3d/3dgraph.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">../3d/3dobject.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">../3d/parser.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">../common.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">../sqexp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">../backg.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">../actint/item_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">uvsapi.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">../network.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">../terra/vmap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">../terra/world.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">../terra/render.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">../particle/particle.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">../particle/partmap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">../particle/df.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">../particle/light.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">../uvs/univang.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">../dast/poly3d.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">track.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">hobj.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">moveland.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">items.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">sensor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">effect.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">mechos.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">../sound/hsound.h</a>&quot;</code><br />
</div>
<p><a href="">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a795bf1f5081affb1cf094e0761cadf04"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="effect_8cpp.html#a795bf1f5081affb1cf094e0761cadf04">effectRND</a> (unsigned m)</td></tr>
<tr class="separator:a795bf1f5081affb1cf094e0761cadf04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5f327ea42109b082078078edf976dfe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="effect_8cpp.html#af5f327ea42109b082078078edf976dfe">MakeColorTable</a> (int fc, int lc, <a class="el" href="inzip_8cpp.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *d, <a class="el" href="inzip_8cpp.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *pal)</td></tr>
<tr class="separator:af5f327ea42109b082078078edf976dfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5600cd82c299177d3a8d6431c79505c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="inzip_8cpp.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="effect_8cpp.html#a5600cd82c299177d3a8d6431c79505c6">GetGlobalAlt</a> (int x, int y)</td></tr>
<tr class="separator:a5600cd82c299177d3a8d6431c79505c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dd79b1b353f6f69393549275be92e72"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="effect_8cpp.html#a1dd79b1b353f6f69393549275be92e72">GetAltLevel</a> (int x, int y, int z)</td></tr>
<tr class="separator:a1dd79b1b353f6f69393549275be92e72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c44631f5b84f38cb38273c991bda5ed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="effect_8cpp.html#a0c44631f5b84f38cb38273c991bda5ed">WaterAltLevel</a> (int x, int y, int z)</td></tr>
<tr class="separator:a0c44631f5b84f38cb38273c991bda5ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0d6b1cdf42264c3028781b80be47d864"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structi_game_map.html">iGameMap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="effect_8cpp.html#a0d6b1cdf42264c3028781b80be47d864">curGMap</a></td></tr>
<tr class="separator:a0d6b1cdf42264c3028781b80be47d864"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeac32066fb73874feb725e7940f9d539"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="effect_8cpp.html#aeac32066fb73874feb725e7940f9d539">SPViewX</a></td></tr>
<tr class="separator:aeac32066fb73874feb725e7940f9d539"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace22f9aa3d39fbd1b65db4f96924c4aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="effect_8cpp.html#ace22f9aa3d39fbd1b65db4f96924c4aa">SPViewY</a></td></tr>
<tr class="separator:ace22f9aa3d39fbd1b65db4f96924c4aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76639567ca986328267609508aa35ea3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="effect_8cpp.html#a76639567ca986328267609508aa35ea3">SPScaleMap</a></td></tr>
<tr class="separator:a76639567ca986328267609508aa35ea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34931f5252830c915c784aaec0dbec9b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="effect_8cpp.html#a34931f5252830c915c784aaec0dbec9b">SPTorXSize</a></td></tr>
<tr class="separator:a34931f5252830c915c784aaec0dbec9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a757eefdbbeb86cbb8ec0f2bd7804d2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="effect_8cpp.html#a3a757eefdbbeb86cbb8ec0f2bd7804d2">SPTorYSize</a></td></tr>
<tr class="separator:a3a757eefdbbeb86cbb8ec0f2bd7804d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3712a627ae2225b15bc3bebc58c56cc7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="effect_8cpp.html#a3712a627ae2225b15bc3bebc58c56cc7">AdvancedView</a></td></tr>
<tr class="separator:a3712a627ae2225b15bc3bebc58c56cc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8c84eee31e505b89e9a3bdd146ccc9e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="effect_8cpp.html#af8c84eee31e505b89e9a3bdd146ccc9e">RAM16</a></td></tr>
<tr class="separator:af8c84eee31e505b89e9a3bdd146ccc9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8a2197fa5928a339f4a645c66bbac1c"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="effect_8cpp.html#ae8a2197fa5928a339f4a645c66bbac1c">effectRNDVAL</a> = 8383</td></tr>
<tr class="separator:ae8a2197fa5928a339f4a645c66bbac1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fc98511740b996318aa327ba4e56887"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="effect_8cpp.html#a8fc98511740b996318aa327ba4e56887">PARTICLE_MAX_DELTA</a> = 15 &lt;&lt; 8</td></tr>
<tr class="separator:a8fc98511740b996318aa327ba4e56887"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06bfee09a7e8f33b5002afc672713436"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="effect_8cpp.html#a06bfee09a7e8f33b5002afc672713436">TARGET_PARTICLE_FADE_TIME</a> = 30</td></tr>
<tr class="separator:a06bfee09a7e8f33b5002afc672713436"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1a89153c099053c313bec62f9166747"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="inzip_8cpp.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="effect_8cpp.html#ab1a89153c099053c313bec62f9166747">TARGET_PARTICLE_NORMAL_SHIFT</a> = 3</td></tr>
<tr class="separator:ab1a89153c099053c313bec62f9166747"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a795bf1f5081affb1cf094e0761cadf04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a795bf1f5081affb1cf094e0761cadf04">&#9670;&nbsp;</a></span>effectRND()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned effectRND </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;{</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <a class="code" href="effect_8cpp.html#ae8a2197fa5928a339f4a645c66bbac1c">effectRNDVAL</a> ^= <a class="code" href="effect_8cpp.html#ae8a2197fa5928a339f4a645c66bbac1c">effectRNDVAL</a> &gt;&gt; 3;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="effect_8cpp.html#ae8a2197fa5928a339f4a645c66bbac1c">effectRNDVAL</a> ^= <a class="code" href="effect_8cpp.html#ae8a2197fa5928a339f4a645c66bbac1c">effectRNDVAL</a> &lt;&lt; 28;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="effect_8cpp.html#ae8a2197fa5928a339f4a645c66bbac1c">effectRNDVAL</a> &amp;= 0x7FFFFFFF;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">if</span>(!m) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="effect_8cpp.html#ae8a2197fa5928a339f4a645c66bbac1c">effectRNDVAL</a>%m;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00045">effectRNDVAL</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l01756">WaterParticleObject::CreateParticle()</a>, and <a class="el" href="#l00884">ParticleObject::CreateParticle()</a>.</p>

</div>
</div>
<a id="a1dd79b1b353f6f69393549275be92e72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dd79b1b353f6f69393549275be92e72">&#9670;&nbsp;</a></span>GetAltLevel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GetAltLevel </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;{</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <a class="code" href="inzip_8cpp.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* p = <a class="code" href="vmap_8cpp.html#a2117ae6905c766dc4c8f9b3edeea633a">vMap</a>-&gt;<a class="code" href="structvrt_map.html#ac00518f8f85e33e05e477217ba296815">lineT</a>[y];</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">if</span>(p){</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        p += x;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <span class="keywordflow">if</span>((*(p+1)) &lt; z &amp;&amp; (*p) &lt; z  ) <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    };</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;};</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00026">vrtMap::lineT</a>, and <a class="el" href="#l00102">vMap</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00743">ParticleObject::DrawQuant()</a>, <a class="el" href="#l01643">WaterParticleObject::DrawQuant()</a>, and <a class="el" href="#l03013">ScreenLineTrace()</a>.</p>

</div>
</div>
<a id="a5600cd82c299177d3a8d6431c79505c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5600cd82c299177d3a8d6431c79505c6">&#9670;&nbsp;</a></span>GetGlobalAlt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="inzip_8cpp.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> GetGlobalAlt </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;{</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="inzip_8cpp.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* p = <a class="code" href="vmap_8cpp.html#a2117ae6905c766dc4c8f9b3edeea633a">vMap</a>-&gt;<a class="code" href="structvrt_map.html#ac00518f8f85e33e05e477217ba296815">lineT</a>[y];</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="inzip_8cpp.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* t;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span>(p){</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        p += x;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        t = p + <a class="code" href="ivmap_8h.html#a5c70503601acf60a421fb2d2cdcae384">H_SIZE</a>;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordflow">if</span>((*t) &amp; <a class="code" href="iworld_8h.html#a31c2d5d060120c148bb25bb9bf17633c">DOUBLE_LEVEL</a>){</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            <span class="keywordflow">if</span>(x &amp; 1) <span class="keywordflow">return</span> *p;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">return</span> *(p + 1);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        }<span class="keywordflow">else</span> <span class="keywordflow">return</span> *p;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    };</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;};</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00005">DOUBLE_LEVEL</a>, <a class="el" href="#l00007">H_SIZE</a>, <a class="el" href="#l00026">vrtMap::lineT</a>, and <a class="el" href="#l00102">vMap</a>.</p>

</div>
</div>
<a id="af5f327ea42109b082078078edf976dfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5f327ea42109b082078078edf976dfe">&#9670;&nbsp;</a></span>MakeColorTable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MakeColorTable </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="inzip_8cpp.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="inzip_8cpp.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>pal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordtype">int</span> ind;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordtype">int</span> mr,nr;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordtype">int</span> i,j,r;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="struct_vector.html">Vector</a> vColor;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">for</span>(i = 0;i &lt; 256;i++){</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        vColor = <a class="code" href="struct_vector.html">Vector</a>(pal[i * 3],pal[i * 3 + 1],pal[i * 3 + 2]);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        ind  = vColor.<a class="code" href="struct_vector.html#a115c64de29c6a12910b3f9e8c9a82e71">vabs</a>();</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        ind += 20;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        vColor = <a class="code" href="struct_vector.html">Vector</a>(pal[fc * 3],pal[fc * 3 + 1],pal[fc * 3 + 2]);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        mr = abs(ind - vColor.<a class="code" href="struct_vector.html#a115c64de29c6a12910b3f9e8c9a82e71">vabs</a>());</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        nr = fc;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordflow">for</span>(j = fc + 1;j &lt; lc;j++){</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            vColor = <a class="code" href="struct_vector.html">Vector</a>(pal[j * 3],pal[j * 3 + 1],pal[j * 3 + 2]);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            r = abs(ind - vColor.<a class="code" href="struct_vector.html#a115c64de29c6a12910b3f9e8c9a82e71">vabs</a>());</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            <span class="keywordflow">if</span>(r &lt; mr){</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                mr = r;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                nr = j;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            };</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        };</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        d[i] = nr;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    };</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;};</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00598">Vector::vabs()</a>.</p>

</div>
</div>
<a id="a0c44631f5b84f38cb38273c991bda5ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c44631f5b84f38cb38273c991bda5ed">&#9670;&nbsp;</a></span>WaterAltLevel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WaterAltLevel </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;{</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    <a class="code" href="inzip_8cpp.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* p = <a class="code" href="vmap_8cpp.html#a2117ae6905c766dc4c8f9b3edeea633a">vMap</a>-&gt;<a class="code" href="structvrt_map.html#ac00518f8f85e33e05e477217ba296815">lineT</a>[y];</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <a class="code" href="inzip_8cpp.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* t;</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <span class="keywordflow">if</span>(p){</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;        p += x;</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;        t = p + <a class="code" href="ivmap_8h.html#a5c70503601acf60a421fb2d2cdcae384">H_SIZE</a>;</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;        <span class="keywordflow">if</span>((*t) &amp; <a class="code" href="iworld_8h.html#a31c2d5d060120c148bb25bb9bf17633c">DOUBLE_LEVEL</a>){</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;            <span class="keywordflow">if</span>(x &amp; 1){</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;                <span class="keywordflow">return</span> (<a class="code" href="iworld_8h.html#a3ca2bf3ac60836642ab3bc7c83347257">GET_TERRAIN_TYPE</a>(*t) == <a class="code" href="world_8h.html#aef4ad86d0389706bddfd4ed6a44eebaa">WATER_TERRAIN</a>);</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;            }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;                <span class="keywordflow">return</span> (<a class="code" href="iworld_8h.html#a3ca2bf3ac60836642ab3bc7c83347257">GET_TERRAIN_TYPE</a>(*(t + 1)) == <a class="code" href="world_8h.html#aef4ad86d0389706bddfd4ed6a44eebaa">WATER_TERRAIN</a>);</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;            };</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;        }<span class="keywordflow">else</span> <span class="keywordflow">return</span> (<a class="code" href="iworld_8h.html#a3ca2bf3ac60836642ab3bc7c83347257">GET_TERRAIN_TYPE</a>(*t) == <a class="code" href="world_8h.html#aef4ad86d0389706bddfd4ed6a44eebaa">WATER_TERRAIN</a>);</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    };</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;};</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00005">DOUBLE_LEVEL</a>, <a class="el" href="#l00015">GET_TERRAIN_TYPE</a>, <a class="el" href="#l00007">H_SIZE</a>, <a class="el" href="#l00026">vrtMap::lineT</a>, <a class="el" href="#l00102">vMap</a>, and <a class="el" href="#l00032">WATER_TERRAIN</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l01643">WaterParticleObject::DrawQuant()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a3712a627ae2225b15bc3bebc58c56cc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3712a627ae2225b15bc3bebc58c56cc7">&#9670;&nbsp;</a></span>AdvancedView</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int AdvancedView</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#l00123">ExplosionObject::DrawQuant()</a>, <a class="el" href="#l01857">FireBallObject::DrawQuant()</a>, <a class="el" href="#l00743">ParticleObject::DrawQuant()</a>, and <a class="el" href="#l01257">TargetParticleObject::DrawQuant()</a>.</p>

</div>
</div>
<a id="a0d6b1cdf42264c3028781b80be47d864"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d6b1cdf42264c3028781b80be47d864">&#9670;&nbsp;</a></span>curGMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structi_game_map.html">iGameMap</a>* curGMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae8a2197fa5928a339f4a645c66bbac1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8a2197fa5928a339f4a645c66bbac1c">&#9670;&nbsp;</a></span>effectRNDVAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned effectRNDVAL = 8383</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#l00046">effectRND()</a>.</p>

</div>
</div>
<a id="a8fc98511740b996318aa327ba4e56887"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fc98511740b996318aa327ba4e56887">&#9670;&nbsp;</a></span>PARTICLE_MAX_DELTA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int PARTICLE_MAX_DELTA = 15 &lt;&lt; 8</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af8c84eee31e505b89e9a3bdd146ccc9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8c84eee31e505b89e9a3bdd146ccc9e">&#9670;&nbsp;</a></span>RAM16</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int RAM16</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#l00165">EffectDispatcher::Init()</a>.</p>

</div>
</div>
<a id="a76639567ca986328267609508aa35ea3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76639567ca986328267609508aa35ea3">&#9670;&nbsp;</a></span>SPScaleMap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPScaleMap</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#l00473">EffectDispatcher::Quant()</a>.</p>

</div>
</div>
<a id="a34931f5252830c915c784aaec0dbec9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34931f5252830c915c784aaec0dbec9b">&#9670;&nbsp;</a></span>SPTorXSize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPTorXSize</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#l00473">EffectDispatcher::Quant()</a>, <a class="el" href="#l00641">SimpleParticleType::QuantP()</a>, <a class="el" href="#l00600">SimpleParticleType::QuantRingOfLord()</a>, and <a class="el" href="#l00700">SimpleParticleType::QuantT()</a>.</p>

</div>
</div>
<a id="a3a757eefdbbeb86cbb8ec0f2bd7804d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a757eefdbbeb86cbb8ec0f2bd7804d2">&#9670;&nbsp;</a></span>SPTorYSize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPTorYSize</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#l00473">EffectDispatcher::Quant()</a>, <a class="el" href="#l00641">SimpleParticleType::QuantP()</a>, <a class="el" href="#l00600">SimpleParticleType::QuantRingOfLord()</a>, and <a class="el" href="#l00700">SimpleParticleType::QuantT()</a>.</p>

</div>
</div>
<a id="aeac32066fb73874feb725e7940f9d539"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeac32066fb73874feb725e7940f9d539">&#9670;&nbsp;</a></span>SPViewX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPViewX</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#l00743">ParticleObject::DrawQuant()</a>, <a class="el" href="#l01643">WaterParticleObject::DrawQuant()</a>, <a class="el" href="#l02877">HordeObject::DrawQuant()</a>, <a class="el" href="#l00473">EffectDispatcher::Quant()</a>, <a class="el" href="#l01375">TargetParticleType::sQuant()</a>, and <a class="el" href="#l01510">TargetParticleType::sQuant2()</a>.</p>

</div>
</div>
<a id="ace22f9aa3d39fbd1b65db4f96924c4aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace22f9aa3d39fbd1b65db4f96924c4aa">&#9670;&nbsp;</a></span>SPViewY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPViewY</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#l00743">ParticleObject::DrawQuant()</a>, <a class="el" href="#l01643">WaterParticleObject::DrawQuant()</a>, <a class="el" href="#l02877">HordeObject::DrawQuant()</a>, <a class="el" href="#l00473">EffectDispatcher::Quant()</a>, <a class="el" href="#l01375">TargetParticleType::sQuant()</a>, and <a class="el" href="#l01510">TargetParticleType::sQuant2()</a>.</p>

</div>
</div>
<a id="a06bfee09a7e8f33b5002afc672713436"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06bfee09a7e8f33b5002afc672713436">&#9670;&nbsp;</a></span>TARGET_PARTICLE_FADE_TIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int TARGET_PARTICLE_FADE_TIME = 30</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#l01230">TargetParticleObject::Quant()</a>.</p>

</div>
</div>
<a id="ab1a89153c099053c313bec62f9166747"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1a89153c099053c313bec62f9166747">&#9670;&nbsp;</a></span>TARGET_PARTICLE_NORMAL_SHIFT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="inzip_8cpp.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> TARGET_PARTICLE_NORMAL_SHIFT = 3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#l01333">TargetParticleType::aQuant()</a>, and <a class="el" href="#l01375">TargetParticleType::sQuant()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="astructvrt_map_html_ac00518f8f85e33e05e477217ba296815"><div class="ttname"><a href="structvrt_map.html#ac00518f8f85e33e05e477217ba296815">vrtMap::lineT</a></div><div class="ttdeci">uchar ** lineT</div><div class="ttdef"><b>Definition:</b> vmap.h:26</div></div>
<div class="ttc" id="aivmap_8h_html_a5c70503601acf60a421fb2d2cdcae384"><div class="ttname"><a href="ivmap_8h.html#a5c70503601acf60a421fb2d2cdcae384">H_SIZE</a></div><div class="ttdeci">const uint H_SIZE</div><div class="ttdef"><b>Definition:</b> ivmap.h:7</div></div>
<div class="ttc" id="aeffect_8cpp_html_ae8a2197fa5928a339f4a645c66bbac1c"><div class="ttname"><a href="effect_8cpp.html#ae8a2197fa5928a339f4a645c66bbac1c">effectRNDVAL</a></div><div class="ttdeci">unsigned effectRNDVAL</div><div class="ttdef"><b>Definition:</b> effect.cpp:45</div></div>
<div class="ttc" id="astruct_vector_html_a115c64de29c6a12910b3f9e8c9a82e71"><div class="ttname"><a href="struct_vector.html#a115c64de29c6a12910b3f9e8c9a82e71">Vector::vabs</a></div><div class="ttdeci">int vabs() const</div><div class="ttdef"><b>Definition:</b> 3d_math.h:598</div></div>
<div class="ttc" id="astruct_vector_html"><div class="ttname"><a href="struct_vector.html">Vector</a></div><div class="ttdef"><b>Definition:</b> 3d_math.h:205</div></div>
<div class="ttc" id="aworld_8h_html_aef4ad86d0389706bddfd4ed6a44eebaa"><div class="ttname"><a href="world_8h.html#aef4ad86d0389706bddfd4ed6a44eebaa">WATER_TERRAIN</a></div><div class="ttdeci">const uchar WATER_TERRAIN</div><div class="ttdef"><b>Definition:</b> world.h:32</div></div>
<div class="ttc" id="aiworld_8h_html_a3ca2bf3ac60836642ab3bc7c83347257"><div class="ttname"><a href="iworld_8h.html#a3ca2bf3ac60836642ab3bc7c83347257">GET_TERRAIN_TYPE</a></div><div class="ttdeci">#define GET_TERRAIN_TYPE(a)</div><div class="ttdef"><b>Definition:</b> iworld.h:15</div></div>
<div class="ttc" id="aiworld_8h_html_a31c2d5d060120c148bb25bb9bf17633c"><div class="ttname"><a href="iworld_8h.html#a31c2d5d060120c148bb25bb9bf17633c">DOUBLE_LEVEL</a></div><div class="ttdeci">const uchar DOUBLE_LEVEL</div><div class="ttdef"><b>Definition:</b> iworld.h:5</div></div>
<div class="ttc" id="avmap_8cpp_html_a2117ae6905c766dc4c8f9b3edeea633a"><div class="ttname"><a href="vmap_8cpp.html#a2117ae6905c766dc4c8f9b3edeea633a">vMap</a></div><div class="ttdeci">vrtMap * vMap</div><div class="ttdef"><b>Definition:</b> vmap.cpp:102</div></div>
<div class="ttc" id="ainzip_8cpp_html_a65f85814a8290f9797005d3b28e7e5fc"><div class="ttname"><a href="inzip_8cpp.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a></div><div class="ttdeci">unsigned char uchar</div><div class="ttdef"><b>Definition:</b> inzip.cpp:3</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_f4739f0eb21cb15a404f3cea1464656d.html">units</a></li><li class="navelem"><a class="el" href="effect_8cpp.html">effect.cpp</a></li>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
